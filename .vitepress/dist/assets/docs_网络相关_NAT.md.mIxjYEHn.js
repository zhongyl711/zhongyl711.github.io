import{_ as P,o as I,c as p,R as o}from"./chunks/framework.jG2La8vi.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/网络相关/NAT.md","filePath":"docs/网络相关/NAT.md"}'),t={name:"docs/网络相关/NAT.md"},e=o("<p>在大多数家庭和小型企业网络中，多台 PC 连接到一个路由器时，每台机器通常不会有自己的公网 IP 地址。下面是对此情况的详细分析：</p><p>NAT（网络地址转换） 家庭和小型企业网络通常使用 NAT（Network Address Translation）技术。NAT 允许多台设备共享一个公共 IP 地址。具体来说，路由器会有一个公网 IP 地址，用于与外部互联网通信，而内部网络中的每台设备（PC、手机等）则使用私有 IP 地址（如 192.168.x.x 或 10.x.x.x）。</p><p>私有 IP 地址：这些地址仅在内部网络中使用，不在公网中路由。常见的私有 IP 地址范围包括：</p><p>192.168.0.0 - 192.168.255.255 10.0.0.0 - 10.255.255.255 172.16.0.0 - 172.31.255.255 公网 IP 地址：路由器使用的唯一的外部 IP 地址，用于与互联网通信。所有内部网络设备的流量都会通过这个 IP 地址出去。</p><p>典型网络拓扑 路由器： 公网 IP 地址：由互联网服务提供商（ISP）分配，唯一。 私有 IP 地址：分配给内部网络设备，通常是 DHCP 服务器。 内部设备（PC、手机等）： 私有 IP 地址：由路由器的 DHCP 服务器分配，属于内部网络。 所有设备共享路由器的公网 IP 地址进行外部通信。 多个公网 IP 的特殊情况 在一些特殊情况下，可能会有多个公网 IP 地址分配给一个网络，但这种情况通常仅在以下情形下发生：</p><p>ISP 提供的业务服务：某些 ISP 可能为高级用户或企业用户提供多个公网 IP 地址。 大型企业网络：企业可能购买多个公网 IP 地址用于不同的服务器和服务。 高级路由配置：通过高级路由器配置，可以将多个公网 IP 地址分配到不同的内部设备。 确认公网 IP 地址 要确认你的设备是否有自己的公网 IP 地址，可以执行以下步骤：</p><p>检查设备的 IP 地址：</p><p>在 Windows 上打开命令提示符，输入 ipconfig。 在 macOS 或 Linux 上打开终端，输入 ifconfig 或 ip addr。 检查路由器的公网 IP 地址：</p><p>通过路由器管理界面查看，通常是通过浏览器访问路由器的管理 IP 地址（如 192.168.0.1）。 在线 IP 检查工具：访问如 WhatIsMyIP.com 之类的网站，查看你的公网 IP 地址。这个地址通常是你的路由器的公网 IP，而不是单个设备的。</p><p>示例 假设你在家庭网络中有三台 PC，IP 地址配置可能如下：</p><p>路由器： 公网 IP：203.0.113.1 私有 IP：192.168.1.1 PC1：私有 IP：192.168.1.2 PC2：私有 IP：192.168.1.3 PC3：私有 IP：192.168.1.4 这些 PC 都通过 NAT 共享路由器的公网 IP 地址 203.0.113.1 与互联网通信。</p><p>总结 在标准家庭和小型企业网络中，连接到同一路由器的多台 PC 通常不会有自己的公网 IP 地址，而是通过 NAT 技术共享一个公网 IP 地址。如果你需要每台设备都有独立的公网 IP 地址，需要联系你的 ISP 提供相应的服务，或者配置高级路由器和网络设置。</p><p>---感觉NAT和SSH的端口转发有点像</p><p>NAT（Network Address Translation，网络地址转换）和 SSH 端口转发在某些方面确实有一些相似之处，因为它们都涉及到在网络层面上改变数据包的地址信息。但是，它们的目的和工作原理还是有很大的不同。</p><p>NAT (Network Address Translation) NAT 的主要目的是让内部网络（通常是私有网络）中的设备可以通过单一的公共 IP 地址访问互联网。NAT 通过修改 IP 数据包的头部信息来实现这一点，具体来说就是替换源 IP 地址和端口号。NAT 可以分为几种类型，例如：</p><p>源 NAT（SNAT）: 当内部网络设备尝试连接到互联网时，NAT 设备（通常是路由器）会将数据包的源 IP 地址（内部 IP 地址）替换成路由器的公共 IP 地址，并记录下转换的详细信息，以便能够正确地将返回的数据包转发回原始设备。 目的 NAT（DNAT）: 这种类型的 NAT 用于将发往路由器公共 IP 地址的数据包的目的 IP 地址转换成内部网络中某台设备的私有 IP 地址。这种转换通常用于实现端口转发或端口映射。 SSH 端口转发 SSH 端口转发则是 SSH 协议的一个特性，它允许在两个 SSH 客户端与服务器之间的安全隧道内转发端口。SSH 端口转发主要用于以下几种场景：</p><p>本地端口转发（Local Port Forwarding）: 这种转发允许客户端上的端口通过 SSH 隧道连接到远程服务器上的另一个端口。客户端上的应用程序可以连接到本地转发端口，就像它直接连接到了远程服务器一样。 远程端口转发（Remote Port Forwarding）: 这种转发允许远程服务器上的端口通过 SSH 隧道连接到客户端上的另一个端口。远程服务器上的应用程序可以连接到远程转发端口，就像它直接连接到了客户端一样。 动态端口转发（Dynamic Port Forwarding）: 这种转发允许客户端上的端口通过 SSH 隧道作为 SOCKS 代理使用，从而为客户端上的应用程序提供透明的代理服务。 比较 尽管 NAT 和 SSH 端口转发都涉及端口和地址的重定向，但它们的目标和应用场景不同：</p><p>NAT 主要是为了让私有网络中的设备能够访问互联网，同时也允许外部设备通过特定的端口映射访问内部网络中的服务。 SSH 端口转发 主要是为了建立一个安全的隧道，允许在客户端和服务器之间转发特定端口的流量，从而提供安全的网络通信或访问内部服务。 总的来说，NAT 更多地关注于网络地址的转换和路由，而 SSH 端口转发则更多地关注于建立安全的隧道和端口的转发。</p>",18),S=[e];function r(a,s,T,n,A,N){return I(),p("div",null,S)}const i=P(t,[["render",r]]);export{d as __pageData,i as default};
